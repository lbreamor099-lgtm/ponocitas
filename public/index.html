<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eva x - Oficial</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="/socket.io/socket.io.js"></script>
    <style>
        :root { --lila-futurista: #6a1b9a; --neon: #ea80fc; }
        body { background: #0a001a; color: white; font-family: 'Segoe UI', sans-serif; }
        .cuadro-acceso { background: var(--lila-futurista); border: 2px solid var(--neon); border-radius: 20px; padding: 25px; box-shadow: 0 0 20px var(--neon); }
        .header-img { width: 100%; border-radius: 15px; margin-bottom: 15px; }
        #seccion-chat { display: none; }
        .canal-live { width: 80px; height: 80px; border-radius: 50%; border: 3px solid var(--neon); display: inline-block; margin-right: 10px; overflow: hidden; }
    </style>
</head>
<body class="d-flex align-items-center justify-content-center" style="min-height: 100vh;">

    <div id="pantalla-registro" class="container" style="max-width: 450px;">
        <div class="cuadro-acceso text-center">
            <img id="img-bienvenida" src="https://via.placeholder.com/400x150?text=Bienvenido+a+Eva" class="header-img">
            <h4 class="mb-4">Registro de Usuario</h4>
            <input type="text" id="reg-nombre" class="form-control mb-2" placeholder="Nombre y Apellidos / Clave Jefe">
            <input type="text" id="reg-pais" class="form-control mb-2" placeholder="Pa√≠s y Ciudad">
            <div class="mb-3">
                <label class="small">Foto de Perfil (URL)</label>
                <input type="text" id="reg-foto" class="form-control" placeholder="Enlace de tu foto">
            </div>
            <button class="btn btn-light w-100 fw-bold" onclick="solicitarAcceso()">INICIAR SESI√ìN</button>
            <div class="mt-3 text-end">
                <button class="btn btn-sm btn-outline-light">üì• Descargar App</button>
            </div>
        </div>
    </div>

    <div id="pantalla-espera" style="display:none;" class="text-center">
        <h2>‚è≥ Espera tu confirmaci√≥n...</h2>
        <p>El administrador debe aprobar tu ingreso.</p>
    </div>

    <script>
        const socket = io();
        let modoJefe = false;

        function solicitarAcceso() {
            const nombre = document.getElementById('reg-nombre').value;
            // CLAVE DE JEFE - C√°mbiala por la tuya
            if(nombre === "TU_CLAVE_SECRETA") { 
                activarModoJefe();
            } else {
                document.getElementById('pantalla-registro').style.display = 'none';
                document.getElementById('pantalla-espera').style.display = 'block';
                socket.emit('registro', { nombre, pais: document.getElementById('reg-pais').value });
            }
        }

        socket.on('aprobado_confirmado', () => {
            alert("¬°Has sido aprobado!");
            // Aqu√≠ cargaremos la interfaz de chat en el siguiente paso
        });
    </script>
</body>
</html>
