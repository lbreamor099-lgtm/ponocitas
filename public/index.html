<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <title>EVA X PRO - SISTEMA SUPREMO</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        :root { --wa-bg: #0b141a; --header: #111b21; --accent: #00ffcc; --btn-size: 3.8rem; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body, html { margin: 0; padding: 0; background: var(--wa-bg); color: white; height: 100dvh; width: 100vw; overflow: hidden; font-size: 18px; }

        /* Pantalla de Registro con Etiquetas Grandes */
        #reg-screen { position: fixed; inset: 0; background: var(--wa-bg); z-index: 9999; display: flex; align-items: center; justify-content: center; padding: 25px; }
        .reg-card { background: var(--header); padding: 35px; border-radius: 25px; width: 100%; max-width: 450px; border: 2px solid #222e35; text-align: center; }
        label { display: block; text-align: left; color: var(--accent); font-weight: bold; margin-bottom: 8px; font-size: 1.2rem; }

        /* App Principal - Layout Forzado */
        .app-shell { display: none; height: 100dvh; flex-direction: column; width: 100%; }
        .app-shell.active { display: flex; }

        /* Cabecera con Logo Gigante y Descarga */
        .header-pro { background: var(--header); padding: 18px 25px; display: flex; align-items: center; justify-content: space-between; border-bottom: 2px solid #222e35; }
        #logo-main { width: 75px; height: 75px; border-radius: 50%; border: 4px solid var(--accent); background: #202c33; cursor: pointer; }
        .download-btn { background: #25d366; color: white; border: none; padding: 12px 20px; border-radius: 12px; font-weight: bold; font-size: 1.1rem; }

        /* √Åreas de Contenido (Tabs) */
        .tab-content { flex: 1; overflow-y: auto; padding: 25px; display: none; background-image: url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcd03b6.png'); background-blend-mode: overlay; }
        .tab-content.active { display: block; }
        .msg-box { background: #202c33; padding: 15px; border-radius: 15px; margin-bottom: 15px; border-left: 5px solid var(--accent); font-size: 1.1rem; }

        /* Navegaci√≥n Inferior - ICONOS XL */
        .nav-bar-xl { background: var(--header); display: flex; justify-content: space-around; padding: 15px 0; border-top: 2px solid #222e35; min-height: 100px; }
        .nav-item { text-align: center; color: #8696a0; flex: 1; cursor: pointer; }
        .nav-item i { font-size: var(--btn-size); display: block; margin-bottom: 5px; }
        .nav-item.active { color: var(--accent); }

        /* Panel de Jefe Blindado */
        #boss-ui { position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 10000; display: none; padding: 40px; }
        .btn-boss-xl { width: 100%; padding: 25px; font-size: 1.5rem; margin-bottom: 20px; border-radius: 20px; font-weight: bold; }
    </style>
</head>
<body>

    <div id="reg-screen">
        <div class="reg-card">
            <h1 class="text-info mb-4">EVA X PRO</h1>
            <button class="btn btn-primary w-100 py-3 mb-4 fs-4" onclick="document.getElementById('pfp').click()">üì∑ SUBIR FOTO OBLIGATORIA</button>
            <input type="file" id="pfp" hidden accept="image/*">
            
            <label>Escriba su Nombre:</label>
            <input type="text" id="rName" class="form-control form-control-lg bg-dark text-white mb-3 py-3 fs-4">
            
            <label>Escriba su Apellido:</label>
            <input type="text" id="rLast" class="form-control form-control-lg bg-dark text-white mb-5 py-3 fs-4">
            
            <button class="btn btn-success w-100 py-4 fs-3 fw-bold" onclick="launchApp()">ACCEDER AL GRUPO</button>
        </div>
    </div>

    <div id="app-shell" class="app-shell">
        <div class="header-pro">
            <img id="logo-main" src="https://via.placeholder.com/75" 
                 onpointerdown="startBoss()" onpointerup="stopBoss()" onpointerleave="stopBoss()">
            <div class="flex-grow-1 ms-4">
                <h3 class="m-0">EVA X PRO</h3>
                <span class="text-success fw-bold" id="id-tag">Conectando...</span>
            </div>
            <button class="download-btn" onclick="alert('Descargando App Oficial...')">üì• APP</button>
        </div>

        <div id="tab-group" class="tab-content active">
            <div class="msg-box">üõ°Ô∏è Grupo Protegido: Bienvenido al chat general.</div>
        </div>

        <div id="tab-private" class="tab-content">
            <div class="msg-box">üîí Mensajer√≠a Privada 1 a 1 activada.</div>
        </div>

        <div id="tab-live" class="tab-content">
            <h2 class="text-info mb-4">CANALES LIVE EN VIVO</h2>
            <button class="btn btn-outline-info w-100 py-4 mb-3 fs-3">üì∫ CANAL 1 - GRUPAL</button>
            <button class="btn btn-outline-primary w-100 py-4 mb-3 fs-3">üéôÔ∏è CANAL 2 - ENTREVISTA</button>
            <button class="btn btn-outline-warning w-100 py-4 fs-3">üëÅÔ∏è CANAL 3 - VIGILANCIA</button>
        </div>

        <div class="nav-bar-xl">
            <div class="nav-item active" id="n-group" onclick="switchTab('group')"><i class="bi bi-people-fill"></i>GRUPO</div>
            <div class="nav-item" id="n-private" onclick="switchTab('private')"><i class="bi bi-chat-left-dots-fill"></i>PRIVADOS</div>
            <div class="nav-item" id="n-live" onclick="switchTab('live')"><i class="bi bi-broadcast-pin"></i>LIVE</div>
        </div>
    </div>

    <div id="boss-ui">
        <div class="d-flex justify-content-between align-items-center mb-5">
            <h1 class="text-danger display-3">MANDO JEFE</h1>
            <button class="btn btn-light btn-lg" onclick="closeBoss()">SALIR</button>
        </div>
        <button class="btn btn-info btn-boss-xl" onclick="alert('Buscador Gaia: Seleccione Usuario')">üîç BUSCADOR GAIA</button>
        <button class="btn btn-primary btn-boss-xl" onclick="document.getElementById('logo-in').click()">üñºÔ∏è CAMBIAR LOGO / FONDO</button>
        <input type="file" id="logo-in" hidden onchange="updateLogo(this)">
        <button class="btn btn-danger btn-boss-xl" onclick="location.reload()">üî• LIMPIEZA TOTAL</button>
    </div>

    <script>
        let bTimer;

        function launchApp() {
            let n = document.getElementById('rName').value, p = document.getElementById('pfp').files[0];
            if(!n || !p) return alert("¬°ALTO! Nombre y Foto son obligatorios.");
            let id = Math.floor(Math.random() * 1500);
            document.getElementById('id-tag').innerText = n + " #ID:" + (id > 1000 ? 'K'+(id-1000) : id);
            document.getElementById('reg-screen').style.display = 'none';
            document.getElementById('app-shell').classList.add('active');
        }

        function switchTab(name) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            document.getElementById('tab-' + name).classList.add('active');
            document.getElementById('n-' + name).classList.add('active');
        }

        function startBoss() { bTimer = setTimeout(() => { if(prompt("LLAVE MAESTRA:") === "jefe123") document.getElementById('boss-ui').style.display='block'; }, 3000); }
        function stopBoss() { clearTimeout(bTimer); }
        function closeBoss() { document.getElementById('boss-ui').style.display='none'; }
        function updateLogo(i) { if(i.files[0]) { let r=new FileReader(); r.onload=e=>document.getElementById('logo-main').src=e.target.result; r.readAsDataURL(i.files[0]); } }
    </script>
</body>
</html>
