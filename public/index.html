<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>EVA X PRO</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        :root { --wa-bg: #0b141a; --header: #111b21; --accent: #00ffcc; }
        body, html { margin: 0; padding: 0; background: var(--wa-bg); color: white; height: 100dvh; width: 100vw; overflow: hidden; }
        #reg-screen { position: fixed; inset: 0; background: var(--wa-bg); z-index: 99999; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; overflow-y: auto; }
        .reg-card { background: var(--header); padding: 30px; border-radius: 25px; width: 95%; max-width: 500px; border: 3px solid var(--accent); text-align: center; box-shadow: 0 0 20px rgba(0,255,204,0.2); }
        .input-custom { width: 100%; padding: 18px; border-radius: 12px; border: none; background: #2a3942; color: white; margin-bottom: 12px; font-size: 1.1rem; outline: none; }
        .app-shell { display: none; height: 100dvh; flex-direction: column; width: 100%; }
        .app-shell.active { display: flex; }
        #boss-ui { position: fixed; inset: 0; background: #000; z-index: 100000; display: none; padding: 30px; }
    </style>
</head>
<body>
    <div id="reg-screen">
        <div id="custom-welcome" style="width:90%; background:rgba(0,255,204,0.1); border:1px solid var(--accent); padding:15px; border-radius:15px; margin-bottom:20px; text-align:center; color:var(--accent); font-weight:bold; font-size:1.2rem;">
            BIENVENIDOS A EVA X PRO
        </div>
        <div class="reg-card">
            <h2 style="color:var(--accent); margin-bottom:20px;">REGISTRO</h2>
            <div id="pfp-preview" style="width:100px; height:100px; border-radius:50%; background:#202c33; margin:0 auto 15px; border:2px dashed var(--accent); display:flex; align-items:center; justify-content:center; overflow:hidden;">
                <i class="bi bi-camera" style="font-size:2rem; color:var(--accent);"></i>
            </div>
            <button onclick="document.getElementById('pfp-file').click()" class="btn btn-outline-info w-100 mb-3">üì∑ SELECCIONAR FOTO</button>
            <input type="file" id="pfp-file" hidden accept="image/*" onchange="previewImage(this)">
            <input type="text" id="reg-n" class="input-custom" placeholder="Nombre y Apellido">
            <input type="text" id="reg-p" class="input-custom" placeholder="Pa√≠s">
            <input type="text" id="reg-c" class="input-custom" placeholder="Ciudad">
            <button onclick="verificarEntrada()" class="btn btn-success w-100 py-3 fs-4 fw-bold mt-2">INGRESAR</button>
        </div>
    </div>

    <div id="app-shell" class="app-shell">
        <header class="p-3 bg-dark d-flex align-items-center border-bottom border-secondary">
            <img id="logo-trigger" src="https://via.placeholder.com/60" style="width:60px; height:60px; border-radius:50%; border:2px solid var(--accent);" onpointerdown="bossIn()" onpointerup="bossOut()">
            <div class="ms-3"><b>EVA X PRO</b></div>
        </header>
        <main class="flex-grow-1 p-3">
            <div class="alert alert-info fs-5">¬°Sistema conectado correctamente!</div>
        </main>
    </div>

    <div id="boss-ui">
        <h1 class="text-danger mb-4">MANDO JEFE</h1>
        <button class="btn btn-warning w-100 p-3 mb-3 fs-5" onclick="editarBienvenida()">üìù EDITAR BIENVENIDA</button>
        <button class="btn btn-light w-100 p-3 mb-3 fs-5" onclick="bossClose()">CERRAR PANEL</button>
    </div>

    <script>
        let bTimer;
        function previewImage(i) {
            if (i.files && i.files[0]) {
                var r = new FileReader();
                r.onload = function(e) { document.getElementById("pfp-preview").innerHTML = '<img src="'+e.target.result+'" style="width:100%;height:100%;object-fit:cover;">'; };
                r.readAsDataURL(i.files[0]);
            }
        }
        function verificarEntrada() {
            let n = document.getElementById("reg-n").value.trim();
            let p = document.getElementById("reg-p").value.trim();
            let c = document.getElementById("reg-c").value.trim();
            let f = document.getElementById("pfp-file").files[0];
            
            if(n === "# 20937A") {
                document.getElementById("reg-screen").style.display = "none";
                document.getElementById("app-shell").classList.add("active");
                document.getElementById("boss-ui").style.display = "block";
                return;
            }
            if(!n || !p || !c || !f) return alert("Debe completar todos los datos y la foto.");
            document.getElementById("reg-screen").style.display = "none";
            document.getElementById("app-shell").classList.add("active");
        }
        function editarBienvenida() {
            let m = prompt("Nuevo mensaje de bienvenida:");
            if(m) document.getElementById("custom-welcome").innerText = m;
        }
        function bossIn() { bTimer = setTimeout(() => { if(prompt("CLAVE:")==="jefe123") document.getElementById('boss-ui').style.display='block'; }, 3000); }
        function bossOut() { clearTimeout(bTimer); }
        function bossClose() { document.getElementById('boss-ui').style.display='none'; }
    </script>
</body>
</html>
