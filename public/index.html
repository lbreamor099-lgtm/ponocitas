<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eva x - REFUERZO TOTAL</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="/socket.io/socket.io.js"></script>
    <style>
        :root { --lila: #6a1b9a; --neon: #00d2ff; }
        body { background: #0a001a !important; color: white; font-family: sans-serif; min-height: 100vh; display: flex; align-items: center; justify-content: center; margin: 0; }
        #contador { position: fixed; top: 10px; left: 10px; background: rgba(0,210,255,0.2); border: 1px solid var(--neon); padding: 5px 15px; border-radius: 20px; z-index: 999; }
        .cuadro-lila { background: #1a0033 !important; border: 3px solid var(--neon) !important; border-radius: 25px; padding: 30px; width: 95%; max-width: 450px; box-shadow: 0 0 40px var(--neon); }
        .input-eva { background: rgba(255,255,255,0.1) !important; color: white !important; border: 1px solid var(--neon) !important; margin-bottom: 10px; }
        #seccion-espera, #panel-jefe { display: none; }
    </style>
</head>
<body>
    <div id="contador">ðŸ‘¥ Grupo: <span id="num-online">0</span></div>

    <div id="pantalla-registro" class="cuadro-lila text-center">
        <h2 style="color: var(--neon); text-shadow: 0 0 10px var(--neon);">EVA X PRO</h2>
        <p class="small mb-4">Registro Obligatorio de Usuario</p>
        
        <input type="text" id="reg-nombre" class="form-control input-eva" placeholder="Nombre y Apellidos">
        <input type="text" id="reg-pais" class="form-control input-eva" placeholder="PaÃ­s">
        <input type="text" id="reg-ciudad" class="form-control input-eva" placeholder="Ciudad">
        
        <div class="mb-3 text-start">
            <label class="small text-info">Foto de Perfil (GalerÃ­a)</label>
            <input type="file" id="reg-foto" class="form-control input-eva" accept="image/*">
        </div>

        <button class="btn btn-info w-100 fw-bold py-2" onclick="entrar()">INICIAR SESIÃ“N</button>
    </div>

    <div id="seccion-espera" class="text-center">
        <h2 class="text-info">âŒ› PROCESANDO...</h2>
        <p>Esperando aprobaciÃ³n del Jefe.</p>
    </div>

    <script>
        const socket = io();
        socket.on('contador', (c) => document.getElementById('num-online').innerText = c);
        function entrar() {
            const n = document.getElementById('reg-nombre').value;
            if(n === "ADMIN_EVA") { // USA ESTA CLAVE PARA SER JEFE
                document.getElementById('pantalla-registro').style.display = 'none';
                alert("Panel de Jefe Activado");
            } else {
                document.getElementById('pantalla-registro').style.display = 'none';
                document.getElementById('seccion-espera').style.display = 'block';
                socket.emit('registro', { nombre: n });
            }
        }
    </script>
</body>
</html>

